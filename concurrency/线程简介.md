# 线程简介
***
## 线程与进程
进程是程序向操作系统申请资源的基本单位，线程是进程中可独立执行的最小单位。一个进程可以包含多个线程，同一个进程中的所有线程共享该进程中的资源，如内存空间、文件句柄等。
## 线程属性
### 线程的种类
线程可以分为**守护线程**和**用户线程**,具体通过设置daemon属性来实现，true为守护线程false为用户线程。该属性的默认值与相应线程的父线程属性值相同。java虚拟机要在所有用户线程结束后停止，而java虚拟机的停止不受到守护线程的影响，因此守护线程通常用于监控用户线程的运行状况，例如垃圾回收的gc线程也是守护线程。
### 线程的状态
- NEW: 当执行new Thread(Runnable)后，新建的线程处于new状态
- RUNNABLE: RUNNABLE其实是一个复合状态，包括READY和RUNNING两个状态，当执行thread.start()后会进入RUNNABLE状态，其中READY表示该状态的线程可以被线程调度器进行调度使之处于RUNNING状态，RUNNING表示线程正在运行，当执行到Thread.yield()命令时，线程状态由RUNNING切换到READY。
- BLOCKED: 此状态为阻塞状态说明未获得锁，当获得锁之后便能切换到RUNNABLE状态。
- WAITING: 执行某些方法后处于等待其他线程或者另外一些特定操作的状态，例如：Object.wait()、Thread.join()，从WAITING切换到RUNNABLE则可执行Object.notify()方法。
- TIMED_WAITING: 与上个状态类似但不是无限制等待，超时会自动转为RUNNABLE状态
- TERMINATED: 此状态表示线程已结束，Thread,run()正常返回或者抛出异常而提前终止都会处于该状态。

## 线程的使用场景
web服务器、垃圾回收、下载文件、桌面gui、定时任务、异步处理。

## 使用线程的优势和风险
- 优势： 提高吞吐率、提高响应性、充分利用多核资源。最小化对系统资源的使用。
- 风险： 线程安全、获取锁和上下文切换会消耗系统资源